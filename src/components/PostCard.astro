---
interface Props {
  title: string;
  date: string;
  summary?: string;
  slug: string;
  tags?: string[];
}

const { title, date, summary, slug, tags } = Astro.props;

// Format date to simple YYYY-MM-DD
const formattedDate = date;
---

<article class="post-card group relative bg-surface border border-border rounded p-4 transition-all duration-200 hover:border-accent">
  <a href={`/posts/${slug}`} class="block no-underline">
    <div class="flex flex-col gap-2">
      <div class="flex items-baseline justify-between gap-4">
        <h2 class="text-lg font-mono font-bold text-text-primary group-hover:text-accent transition-colors tracking-tight flex-1">
          {title}
        </h2>
        <time class="text-xs text-text-secondary font-mono shrink-0">{formattedDate}</time>
      </div>

      {summary && (
        <p class="text-sm text-text-secondary line-clamp-2 font-mono">
          {summary}
        </p>
      )}

      {tags && tags.length > 0 && (
        <div class="flex flex-wrap gap-2 mt-1">
          {tags.map(tag => (
            <span class="text-xs px-2 py-0.5 bg-bg text-text-secondary rounded border border-border font-mono">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>

<style>
  .post-card:hover {
    box-shadow: 0 0 30px var(--accent-glow), 0 0 15px var(--accent-glow);
  }

  .post-card a:hover {
    text-shadow: none;
  }
</style>
